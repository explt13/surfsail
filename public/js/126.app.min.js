"use strict";(self.webpackChunksurfsail=self.webpackChunksurfsail||[]).push([[126],{126:(e,t,i)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i.r(t),i.d(t,{initZoom:()=>z});var s="object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement));function o(e){return s?e instanceof HTMLElement:e&&"object"===n(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function h(e,t){t.forEach((function(t){e.classList.add(t)}))}function a(e,t){t.forEach((function(t){e.classList.remove(t)}))}function l(){throw new Error("Missing parameter")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isShowing=!1;var i=t.namespace,n=void 0===i?null:i,s=t.zoomFactor,o=void 0===s?l():s,h=t.containerEl,a=void 0===h?l():h;this.settings={namespace:n,zoomFactor:o,containerEl:a},this.openClasses=this._buildClasses("open"),this._buildElement()}var t,i;return t=e,(i=[{key:"_buildClasses",value:function(e){var t=["drift-".concat(e)],i=this.settings.namespace;return i&&t.push("".concat(i,"-").concat(e)),t}},{key:"_buildElement",value:function(){this.el=document.createElement("div"),h(this.el,this._buildClasses("bounding-box"))}},{key:"show",value:function(e,t){this.isShowing=!0,this.settings.containerEl.appendChild(this.el);var i=this.el.style;i.width="".concat(Math.round(e/this.settings.zoomFactor),"px"),i.height="".concat(Math.round(t/this.settings.zoomFactor),"px"),h(this.el,this.openClasses)}},{key:"hide",value:function(){this.isShowing&&this.settings.containerEl.removeChild(this.el),this.isShowing=!1,a(this.el,this.openClasses)}},{key:"setPosition",value:function(e,t,i){var n=window.pageXOffset,s=window.pageYOffset,o=i.left+e*i.width-this.el.clientWidth/2+n,h=i.top+t*i.height-this.el.clientHeight/2+s;o<i.left+n?o=i.left+n:o+this.el.clientWidth>i.left+i.width+n&&(o=i.left+i.width-this.el.clientWidth+n),h<i.top+s?h=i.top+s:h+this.el.clientHeight>i.top+i.height+s&&(h=i.top+i.height-this.el.clientHeight+s),this.el.style.left="".concat(o,"px"),this.el.style.top="".concat(h,"px")}}])&&r(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._show=this._show.bind(this),this._hide=this._hide.bind(this),this._handleEntry=this._handleEntry.bind(this),this._handleMovement=this._handleMovement.bind(this);var i=t.el,n=void 0===i?l():i,s=t.zoomPane,o=void 0===s?l():s,h=t.sourceAttribute,a=void 0===h?l():h,r=t.handleTouch,d=void 0===r?l():r,u=t.onShow,m=void 0===u?null:u,g=t.onHide,v=void 0===g?null:g,p=t.hoverDelay,f=void 0===p?0:p,y=t.touchDelay,b=void 0===y?0:y,w=t.hoverBoundingBox,_=void 0===w?l():w,E=t.touchBoundingBox,C=void 0===E?l():E,z=t.namespace,S=void 0===z?null:z,k=t.zoomFactor,B=void 0===k?l():k,L=t.boundingBoxContainer,x=void 0===L?l():L,A=t.passive,T=void 0!==A&&A;this.settings={el:n,zoomPane:o,sourceAttribute:a,handleTouch:d,onShow:m,onHide:v,hoverDelay:f,touchDelay:b,hoverBoundingBox:_,touchBoundingBox:C,namespace:S,zoomFactor:B,boundingBoxContainer:x,passive:T},(this.settings.hoverBoundingBox||this.settings.touchBoundingBox)&&(this.boundingBox=new c({namespace:this.settings.namespace,zoomFactor:this.settings.zoomFactor,containerEl:this.settings.boundingBoxContainer})),this.enabled=!0,this._bindEvents()}var t,i;return t=e,(i=[{key:"_preventDefault",value:function(e){e.preventDefault()}},{key:"_preventDefaultAllowTouchScroll",value:function(e){this.settings.touchDelay&&this._isTouchEvent(e)&&!this.isShowing||e.preventDefault()}},{key:"_isTouchEvent",value:function(e){return!!e.touches}},{key:"_bindEvents",value:function(){this.settings.el.addEventListener("mouseenter",this._handleEntry),this.settings.el.addEventListener("mouseleave",this._hide),this.settings.el.addEventListener("mousemove",this._handleMovement);var e={passive:this.settings.passive};this.settings.handleTouch?(this.settings.el.addEventListener("touchstart",this._handleEntry,e),this.settings.el.addEventListener("touchend",this._hide),this.settings.el.addEventListener("touchmove",this._handleMovement,e)):(this.settings.el.addEventListener("touchstart",this._preventDefault,e),this.settings.el.addEventListener("touchend",this._preventDefault),this.settings.el.addEventListener("touchmove",this._preventDefault,e))}},{key:"_unbindEvents",value:function(){this.settings.el.removeEventListener("mouseenter",this._handleEntry),this.settings.el.removeEventListener("mouseleave",this._hide),this.settings.el.removeEventListener("mousemove",this._handleMovement),this.settings.handleTouch?(this.settings.el.removeEventListener("touchstart",this._handleEntry),this.settings.el.removeEventListener("touchend",this._hide),this.settings.el.removeEventListener("touchmove",this._handleMovement)):(this.settings.el.removeEventListener("touchstart",this._preventDefault),this.settings.el.removeEventListener("touchend",this._preventDefault),this.settings.el.removeEventListener("touchmove",this._preventDefault))}},{key:"_handleEntry",value:function(e){this._preventDefaultAllowTouchScroll(e),this._lastMovement=e,"mouseenter"==e.type&&this.settings.hoverDelay?this.entryTimeout=setTimeout(this._show,this.settings.hoverDelay):this.settings.touchDelay?this.entryTimeout=setTimeout(this._show,this.settings.touchDelay):this._show()}},{key:"_show",value:function(){if(this.enabled){var e=this.settings.onShow;if(e&&"function"==typeof e&&e(),this.settings.zoomPane.show(this.settings.el.getAttribute(this.settings.sourceAttribute),this.settings.el.clientWidth,this.settings.el.clientHeight),this._lastMovement){var t=this._lastMovement.touches;(t&&this.settings.touchBoundingBox||!t&&this.settings.hoverBoundingBox)&&this.boundingBox.show(this.settings.zoomPane.el.clientWidth,this.settings.zoomPane.el.clientHeight)}this._handleMovement()}}},{key:"_hide",value:function(e){e&&this._preventDefaultAllowTouchScroll(e),this._lastMovement=null,this.entryTimeout&&clearTimeout(this.entryTimeout),this.boundingBox&&this.boundingBox.hide();var t=this.settings.onHide;t&&"function"==typeof t&&t(),this.settings.zoomPane.hide()}},{key:"_handleMovement",value:function(e){if(e)this._preventDefaultAllowTouchScroll(e),this._lastMovement=e;else{if(!this._lastMovement)return;e=this._lastMovement}var t,i;if(e.touches){var n=e.touches[0];t=n.clientX,i=n.clientY}else t=e.clientX,i=e.clientY;var s=this.settings.el.getBoundingClientRect(),o=t-s.left,h=i-s.top,a=o/this.settings.el.clientWidth,l=h/this.settings.el.clientHeight;this.boundingBox&&this.boundingBox.setPosition(a,l,s),this.settings.zoomPane.setPosition(a,l,s)}},{key:"isShowing",get:function(){return this.settings.zoomPane.isShowing}}])&&d(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.HAS_ANIMATION=!1,"undefined"!=typeof document){var i=document.createElement("div").style;this.HAS_ANIMATION="animation"in i||"webkitAnimation"in i}this._completeShow=this._completeShow.bind(this),this._completeHide=this._completeHide.bind(this),this._handleLoad=this._handleLoad.bind(this),this.isShowing=!1;var n=t.container,s=void 0===n?null:n,o=t.zoomFactor,h=void 0===o?l():o,a=t.inline,r=void 0===a?l():a,c=t.namespace,d=void 0===c?null:c,u=t.showWhitespaceAtEdges,m=void 0===u?l():u,g=t.containInline,v=void 0===g?l():g,p=t.inlineOffsetX,f=void 0===p?0:p,y=t.inlineOffsetY,b=void 0===y?0:y,w=t.inlineContainer,_=void 0===w?document.body:w;this.settings={container:s,zoomFactor:h,inline:r,namespace:d,showWhitespaceAtEdges:m,containInline:v,inlineOffsetX:f,inlineOffsetY:b,inlineContainer:_},this.openClasses=this._buildClasses("open"),this.openingClasses=this._buildClasses("opening"),this.closingClasses=this._buildClasses("closing"),this.inlineClasses=this._buildClasses("inline"),this.loadingClasses=this._buildClasses("loading"),this._buildElement()}var t,i;return t=e,(i=[{key:"_buildClasses",value:function(e){var t=["drift-".concat(e)],i=this.settings.namespace;return i&&t.push("".concat(i,"-").concat(e)),t}},{key:"_buildElement",value:function(){this.el=document.createElement("div"),h(this.el,this._buildClasses("zoom-pane"));var e=document.createElement("div");h(e,this._buildClasses("zoom-pane-loader")),this.el.appendChild(e),this.imgEl=document.createElement("img"),this.el.appendChild(this.imgEl)}},{key:"_setImageURL",value:function(e){this.imgEl.setAttribute("src",e)}},{key:"_setImageSize",value:function(e,t){this.imgEl.style.width="".concat(e*this.settings.zoomFactor,"px"),this.imgEl.style.height="".concat(t*this.settings.zoomFactor,"px")}},{key:"setPosition",value:function(e,t,i){var n=this.imgEl.offsetWidth,s=this.imgEl.offsetHeight,o=this.el.offsetWidth,h=this.el.offsetHeight,a=o/2-n*e,l=h/2-s*t,r=o-n,c=h-s,d=r>0,u=c>0,m=d?r/2:0,g=u?c/2:0,v=d?r/2:r,p=u?c/2:c;if(this.el.parentElement===this.settings.inlineContainer){var f=window.pageXOffset,y=window.pageYOffset,b=i.left+e*i.width-o/2+this.settings.inlineOffsetX+f,w=i.top+t*i.height-h/2+this.settings.inlineOffsetY+y;this.settings.containInline&&(b<i.left+f?b=i.left+f:b+o>i.left+i.width+f&&(b=i.left+i.width-o+f),w<i.top+y?w=i.top+y:w+h>i.top+i.height+y&&(w=i.top+i.height-h+y)),this.el.style.left="".concat(b,"px"),this.el.style.top="".concat(w,"px")}this.settings.showWhitespaceAtEdges||(a>m?a=m:a<v&&(a=v),l>g?l=g:l<p&&(l=p)),this.imgEl.style.transform="translate(".concat(a,"px, ").concat(l,"px)"),this.imgEl.style.webkitTransform="translate(".concat(a,"px, ").concat(l,"px)")}},{key:"_removeListenersAndResetClasses",value:function(){this.el.removeEventListener("animationend",this._completeShow),this.el.removeEventListener("animationend",this._completeHide),this.el.removeEventListener("webkitAnimationEnd",this._completeShow),this.el.removeEventListener("webkitAnimationEnd",this._completeHide),a(this.el,this.openClasses),a(this.el,this.closingClasses)}},{key:"show",value:function(e,t,i){this._removeListenersAndResetClasses(),this.isShowing=!0,h(this.el,this.openClasses),this.imgEl.getAttribute("src")!=e&&(h(this.el,this.loadingClasses),this.imgEl.addEventListener("load",this._handleLoad),this._setImageURL(e)),this._setImageSize(t,i),this._isInline?this._showInline():this._showInContainer(),this.HAS_ANIMATION&&(this.el.addEventListener("animationend",this._completeShow),this.el.addEventListener("webkitAnimationEnd",this._completeShow),h(this.el,this.openingClasses))}},{key:"_showInline",value:function(){this.settings.inlineContainer.appendChild(this.el),h(this.el,this.inlineClasses)}},{key:"_showInContainer",value:function(){this.settings.container.appendChild(this.el)}},{key:"hide",value:function(){this._removeListenersAndResetClasses(),this.isShowing=!1,this.HAS_ANIMATION?(this.el.addEventListener("animationend",this._completeHide),this.el.addEventListener("webkitAnimationEnd",this._completeHide),h(this.el,this.closingClasses)):(a(this.el,this.openClasses),a(this.el,this.inlineClasses))}},{key:"_completeShow",value:function(){this.el.removeEventListener("animationend",this._completeShow),this.el.removeEventListener("webkitAnimationEnd",this._completeShow),a(this.el,this.openingClasses)}},{key:"_completeHide",value:function(){this.el.removeEventListener("animationend",this._completeHide),this.el.removeEventListener("webkitAnimationEnd",this._completeHide),a(this.el,this.openClasses),a(this.el,this.closingClasses),a(this.el,this.inlineClasses),this.el.style.left="",this.el.style.top="",this.el.parentElement===this.settings.container?this.settings.container.removeChild(this.el):this.el.parentElement===this.settings.inlineContainer&&this.settings.inlineContainer.removeChild(this.el)}},{key:"_handleLoad",value:function(){this.imgEl.removeEventListener("load",this._handleLoad),a(this.el,this.loadingClasses)}},{key:"_isInline",get:function(){var e=this.settings.inline;return!0===e||"number"==typeof e&&window.innerWidth<=e}}])&&m(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.VERSION="1.5.1",this.triggerEl=t,this.destroy=this.destroy.bind(this),!o(this.triggerEl))throw new TypeError("`new Drift` requires a DOM element as its first argument.");var n=i.namespace||null,s=i.showWhitespaceAtEdges||!1,h=i.containInline||!1,a=i.inlineOffsetX||0,l=i.inlineOffsetY||0,r=i.inlineContainer||document.body,c=i.sourceAttribute||"data-zoom",d=i.zoomFactor||3,u=void 0===i.paneContainer?document.body:i.paneContainer,m=i.inlinePane||375,g=!("handleTouch"in i)||!!i.handleTouch,v=i.onShow||null,p=i.onHide||null,f=!("injectBaseStyles"in i)||!!i.injectBaseStyles,y=i.hoverDelay||0,b=i.touchDelay||0,w=i.hoverBoundingBox||!1,_=i.touchBoundingBox||!1,E=i.boundingBoxContainer||document.body,C=i.passive||!1;if(!0!==m&&!o(u))throw new TypeError("`paneContainer` must be a DOM element when `inlinePane !== true`");if(!o(r))throw new TypeError("`inlineContainer` must be a DOM element");this.settings={namespace:n,showWhitespaceAtEdges:s,containInline:h,inlineOffsetX:a,inlineOffsetY:l,inlineContainer:r,sourceAttribute:c,zoomFactor:d,paneContainer:u,inlinePane:m,handleTouch:g,onShow:v,onHide:p,injectBaseStyles:f,hoverDelay:y,touchDelay:b,hoverBoundingBox:w,touchBoundingBox:_,boundingBoxContainer:E,passive:C},this.settings.injectBaseStyles&&function(){if(!document.querySelector(".drift-base-styles")){var e=document.createElement("style");e.type="text/css",e.classList.add("drift-base-styles"),e.appendChild(document.createTextNode(".drift-bounding-box,.drift-zoom-pane{position:absolute;pointer-events:none}@keyframes noop{0%{zoom:1}}@-webkit-keyframes noop{0%{zoom:1}}.drift-zoom-pane.drift-open{display:block}.drift-zoom-pane.drift-closing,.drift-zoom-pane.drift-opening{animation:noop 1ms;-webkit-animation:noop 1ms}.drift-zoom-pane{overflow:hidden;width:100%;height:100%;top:0;left:0}.drift-zoom-pane-loader{display:none}.drift-zoom-pane img{position:absolute;display:block;max-width:none;max-height:none}"));var t=document.head;t.insertBefore(e,t.firstChild)}}(),this._buildZoomPane(),this._buildTrigger()}var t,i;return t=e,(i=[{key:"_buildZoomPane",value:function(){this.zoomPane=new g({container:this.settings.paneContainer,zoomFactor:this.settings.zoomFactor,showWhitespaceAtEdges:this.settings.showWhitespaceAtEdges,containInline:this.settings.containInline,inline:this.settings.inlinePane,namespace:this.settings.namespace,inlineOffsetX:this.settings.inlineOffsetX,inlineOffsetY:this.settings.inlineOffsetY,inlineContainer:this.settings.inlineContainer})}},{key:"_buildTrigger",value:function(){this.trigger=new u({el:this.triggerEl,zoomPane:this.zoomPane,handleTouch:this.settings.handleTouch,onShow:this.settings.onShow,onHide:this.settings.onHide,sourceAttribute:this.settings.sourceAttribute,hoverDelay:this.settings.hoverDelay,touchDelay:this.settings.touchDelay,hoverBoundingBox:this.settings.hoverBoundingBox,touchBoundingBox:this.settings.touchBoundingBox,namespace:this.settings.namespace,zoomFactor:this.settings.zoomFactor,boundingBoxContainer:this.settings.boundingBoxContainer,passive:this.settings.passive})}},{key:"setZoomImageURL",value:function(e){this.zoomPane._setImageURL(e)}},{key:"disable",value:function(){this.trigger.enabled=!1}},{key:"enable",value:function(){this.trigger.enabled=!0}},{key:"destroy",value:function(){this.trigger._hide(),this.trigger._unbindEvents()}},{key:"isShowing",get:function(){return this.zoomPane.isShowing}},{key:"zoomFactor",get:function(){return this.settings.zoomFactor},set:function(e){this.settings.zoomFactor=e,this.zoomPane.settings.zoomFactor=e,this.trigger.settings.zoomFactor=e,this.boundingBox.settings.zoomFactor=e}}])&&v(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();Object.defineProperty(p.prototype,"isShowing",{get:function(){return this.isShowing}}),Object.defineProperty(p.prototype,"zoomFactor",{get:function(){return this.zoomFactor},set:function(e){this.zoomFactor=e}}),p.prototype.setZoomImageURL=p.prototype.setZoomImageURL,p.prototype.disable=p.prototype.disable,p.prototype.enable=p.prototype.enable,p.prototype.destroy=p.prototype.destroy;const f=matchMedia("(max-width: 61.9375em)"),y=document.querySelectorAll(".images-product__show-image img"),b=document.querySelector(".zoom-pane"),w=document.querySelector(".zoom-pane__container"),_=document.querySelector(".images-product__show-image.show-image"),E=()=>{b.hidden=!1},C=()=>{f.matches?null!==document.querySelector(".zoom-pane")&&document.querySelector(".images-product").removeChild(document.querySelector(".images-product .zoom-pane")):null===document.querySelector(".zoom-pane")&&document.querySelector(".images-product").appendChild(b);const e=_.offsetHeight,t=_.offsetWidth;b.style.height=e+"px",b.style.width=t+"px"},z=()=>{y.length>0&&(C(),y.forEach((e=>{(e=>{new p(e,{onShow:E,onHide:()=>(e=>{const t=setTimeout((()=>{b.hidden=!0}),150);e.addEventListener("mouseenter",(function(){clearTimeout(t)}))})(e),paneContainer:w,zoomFactor:2,hoverBoundingBox:!0,showWhitespaceAtEdges:!1,handleTouch:!0,inlinePane:991,containInline:!0,touchDelay:150})})(e)})),window.addEventListener("resize",(()=>{C()})))};z()}}]);